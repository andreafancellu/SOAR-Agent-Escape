rl -s learning on # Reinforcement Llearning

sp {propose*initialize-escape
    (state <s> ^superstate nil 
              -^name)
-->
    (<s> ^operator <o> +)
    (<o> ^name initialize-escape)
    (write |Proposed!|)
}

sp {apply*initialize-escape
    (state <s> ^operator <op>)
    (<op> ^name initialize-escape)
-->
    (<s> ^name escape
         ^object <el> <tw> <st> <tr1> <tr2> <wn>
         ^tool <sling> <twigstone> <stoneel>
         ^height 1.5
         ^location start
         ^direction <d> <d1>)
    (<el> ^name elastic) 
    (<tw> ^name twig) # rametto
    (<st> ^name stones) 
    (<tr1> ^name trunk ^height 1.0)   
    (<tr2> ^name trunk ^height 1.0)
    (<wn> ^name window ^height 3.5)
    (<d> ^name window ^reward 1.0)
    (<d1> ^name door ^reward -1.0)
    (<sling> ^name sling ^component <el> <tw> ^reward 1.0 ^created no)
    (<twigstone> ^name twigstone ^component <tw> <st> ^reward -1.0 ^created no)
    (<stoneel> ^name stoneel ^component <st> <el> ^reward -1.0 ^created no)
    (write |initialized!|)
}

### Propose & Apply ### 
sp {propose*move
   (state <s> ^name escape
              ^direction <d> 
              ^location start)
   (<d> ^name <dir>)
-->
   (<s> ^operator <op> +) 
   (<op> ^name move 
         ^dir <dir>)
}

sp {apply*move
   (state <s> ^operator <op> 
              ^location start)
   (<op> ^name move 
         ^dir <dir>)
-->
   (<s> ^location start - <dir>) 
   (write (crlf) |Moved: | <dir>)
}

sp {propose*craft
   (state <s> ^name escape 
              ^tool <t>)
   (<t> ^name <toolname>
        ^created no)
-->
   (<s> ^operator <op>)
   (<op> ^name craft
         ^tool <toolname>)
}

sp {apply*craft
   (state <s> ^operator <op>)
   (<op> ^name craft
         ^tool <tool>)
-->
   (<s> ^tool <tool>)
   (<tool> ^created no - yes)
   (write (crlf) |Tool Created:| <tool>)
}


###### Utils ######
sp {abab
   (state <s> ^name escape 
              ^tool <t>)
   (<t> ^name <toolname>
        ^created yes)
-->
   (write (crlf) |Porcoddio: | <toolname>)
}


sp {look-window
    (state <s> ^name escape
               ^location window)
-->    
    (write (crlf) |Oh shit maaaan this window it's so fucking nice!|)
}
