### RL Rules
sp {rl*window
   (state <s> ^name escape 
              ^operator <op> +) 
   (<op> ^name move 
         ^dir window) 
-->
   (<s> ^operator <op> = 0) 
}

sp {rl*door
   (state <s> ^name escape 
              ^operator <op> +) 
   (<op> ^name move 
         ^dir door) 
-->
   (<s> ^operator <op> = 0) 
}

sp {rl*sling
   (state <s> ^name escape 
              ^operator <op> +) 
   (<op> ^name craft 
         ^tool sling) 
-->
   (<s> ^operator <op> = 0) 
}

sp {rl*stoneel
   (state <s> ^name escape 
              ^operator <op> +) 
   (<op> ^name craft 
         ^tool stoneel) 
-->
   (<s> ^operator <op> = 0) 
}

sp {rl*twigstone
   (state <s> ^name escape 
              ^operator <op> +) 
   (<op> ^name craft 
         ^tool twigstone) 
-->
   (<s> ^operator <op> = 0) 
}


### Che cazzo è sta roba !!!
sp {elaborate*reward 
   (state <s> ^name escape
              ^reward-link <r> #reward-link
              ^location <d-name> 
              ^direction <dir>) 
   (<dir> ^name <d-name> ^reward <d-reward>) 
-->
   (<r> ^reward <rr>) 
   (<rr> ^value <d-reward>)
}

sp {elaborate*reward*combination
   (state <s> ^name escape
         ^reward-link <r>
         ^operator <o> +)
   (<o> ^tool <t>)      
   (<t> ^created yes ^reward <d-reward>)
  -->
   (<r> ^reward <rr>)
   (<rr> ^value <d-reward>)
}

sp {elaborate*done_b
   (state <s> ^name escape
              ^tool <t>)
   (<t> ^created yes)
-->
   (halt) 
}


sp {elaborate*done
   (state <s> ^name left-right
              ^location {<> start}) # se lo stato s si trova in una location che non è più start
-->
   (halt) # allora fermati
}